{"version":3,"sources":["../node_modules/react-bootstrap/esm/Alert.js","utils/queryRouter.js","components/customSpinner/multiSquare/multiSquareLoader.js","components/customSpinner/multiSquare/multiSquareLoader.module.scss","container/payment/payment.js"],"names":["defaultProps","show","transition","Fade","closeLabel","controllables","Alert","React","forwardRef","uncontrolledProps","ref","_useUncontrolled","useUncontrolled","bsPrefix","className","children","variant","onClose","dismissible","Transition","props","_objectWithoutPropertiesLoose","prefix","useBootstrapPrefix","handleClose","useEventCallback","e","alert","createElement","_extends","role","undefined","classNames","CloseButton","onClick","label","unmountOnExit","in","DivStyledAsH4","divWithClassName","displayName","Link","createWithBsPrefix","Component","SafeAnchor","Heading","useQuery","search","useLocation","useMemo","URLSearchParams","MultiSquareLoader","Styles","content","loader","module","exports","Payment","useState","loading","setLoading","executeRes","setExecuteRes","errorMsg","setErrorMsg","query","paymentID","get","status","useEffect","axios","post","process","then","data","catch","response","message","paymentId","routes","to","productId","statusCode","statusMessage","merchantInvoice"],"mappings":"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","file":"static/js/39.c8eeb0c4.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport SafeAnchor from './SafeAnchor';\nvar defaultProps = {\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nvar controllables = {\n  show: 'onClose'\n};\nvar Alert = React.forwardRef(function (uncontrolledProps, ref) {\n  var _useUncontrolled = useUncontrolled(uncontrolledProps, controllables),\n      bsPrefix = _useUncontrolled.bsPrefix,\n      show = _useUncontrolled.show,\n      closeLabel = _useUncontrolled.closeLabel,\n      className = _useUncontrolled.className,\n      children = _useUncontrolled.children,\n      variant = _useUncontrolled.variant,\n      onClose = _useUncontrolled.onClose,\n      dismissible = _useUncontrolled.dismissible,\n      Transition = _useUncontrolled.transition,\n      props = _objectWithoutPropertiesLoose(_useUncontrolled, [\"bsPrefix\", \"show\", \"closeLabel\", \"className\", \"children\", \"variant\", \"onClose\", \"dismissible\", \"transition\"]);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  var handleClose = useEventCallback(function (e) {\n    onClose(false, e);\n  });\n  var alert = React.createElement(\"div\", _extends({\n    role: \"alert\"\n  }, Transition ? props : undefined, {\n    className: classNames(className, prefix, variant && prefix + \"-\" + variant, dismissible && prefix + \"-dismissible\")\n  }), dismissible && React.createElement(CloseButton, {\n    onClick: handleClose,\n    label: closeLabel\n  }), children);\n  if (!Transition) return show ? alert : null;\n  return React.createElement(Transition, _extends({\n    unmountOnExit: true,\n    ref: ref\n  }, props, {\n    in: show\n  }), alert);\n});\nvar DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nAlert.Link = createWithBsPrefix('alert-link', {\n  Component: SafeAnchor\n});\nAlert.Heading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nexport default Alert;","import React from 'react'\r\nimport { useLocation } from 'react-router'\r\n\r\nexport function useQuery() {\r\n  const { search } = useLocation()\r\n  return React.useMemo(() => new URLSearchParams(search), [search])\r\n}\r\n","import React from 'react'\r\nimport Styles from './multiSquareLoader.module.scss'\r\n\r\nexport default function MultiSquareLoader() {\r\n  return (\r\n    <div className={Styles.content}>\r\n      <span className={Styles.loader}></span>\r\n    </div>\r\n  )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"multiSquareLoader_loader__1g3Mz\",\"pgfill\":\"multiSquareLoader_pgfill__O6PE3\"};","import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useQuery } from '../../utils/queryRouter'\r\nimport { Alert } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport MultiSquareLoader from '../../components/customSpinner/multiSquare/multiSquareLoader'\r\n\r\nexport default function Payment() {\r\n  const [loading, setLoading] = useState(false)\r\n  const [executeRes, setExecuteRes] = useState(null)\r\n  const [errorMsg, setErrorMsg] = useState(null)\r\n  let query = useQuery()\r\n  const paymentID = query.get('paymentID')\r\n  const status = query.get('status')\r\n\r\n  useEffect(() => {\r\n    if (status === 'success') {\r\n      setLoading(true)\r\n      axios\r\n        .post(\r\n          process.env.REACT_APP_SITE_URL + '/payment/bkash/execute/' + paymentID\r\n        )\r\n        .then(({ data }) => {\r\n          setLoading(false)\r\n          setExecuteRes(data)\r\n        })\r\n        .catch(({ response }) => {\r\n          setLoading(false)\r\n          setErrorMsg(\r\n            'Error(' + response?.status + '): ' + response?.data.message\r\n          )\r\n        })\r\n    } else {\r\n      setLoading(true)\r\n      axios\r\n        .post(\r\n          process.env.REACT_APP_SITE_URL +\r\n            '/payment/bkash/failure/' +\r\n            paymentID,\r\n          {\r\n            paymentId: paymentID,\r\n            status: status\r\n          }\r\n        )\r\n        .then(({ data }) => {\r\n          setLoading(false)\r\n          setExecuteRes(data)\r\n        })\r\n        .catch(({ response }) => {\r\n          setLoading(false)\r\n          setErrorMsg(\r\n            'Error(' + response?.status + '): ' + response?.data.message\r\n          )\r\n        })\r\n    }\r\n  }, [paymentID, status])\r\n\r\n  let routes = (\r\n    <>\r\n      <br />\r\n      <span> Please try to </span>\r\n      <Link to={'/courses/' + executeRes?.productId}>Enroll again.</Link>\r\n      <br />\r\n      <Link to='/help'>Help</Link>\r\n    </>\r\n  )\r\n\r\n  if (executeRes?.statusCode === '0' || executeRes?.statusCode === '1') {\r\n    routes = (\r\n      <>\r\n        <br />\r\n        <span> Go to </span>\r\n        <br />\r\n        <Link to='/dashboard'>Dashboard</Link>\r\n        <br />\r\n        <Link to={'/exams/courses/' + executeRes?.productId}>Exams</Link>\r\n        <br />\r\n        <Link to='/courses'>All Courses</Link>\r\n        <br />\r\n        <Link to='/help'>Help</Link>\r\n      </>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h4>Payment Status</h4>\r\n      {status === 'success' && loading && (\r\n        <div className='text-center'>\r\n          <p className={'text-success'}>\r\n            Please wait. Your payment process is ongoing ....\r\n          </p>\r\n          <MultiSquareLoader />\r\n        </div>\r\n      )}\r\n      {executeRes && (\r\n        <div className='text-center'>\r\n          {executeRes && (\r\n            <>\r\n              <Alert\r\n                variant={\r\n                  executeRes.statusCode === '0' || executeRes.statusCode === '1'\r\n                    ? 'success'\r\n                    : 'danger'\r\n                }\r\n                className='lead'\r\n              >\r\n                {executeRes.statusMessage}\r\n              </Alert>\r\n              <span>Invoice No. {executeRes?.merchantInvoice}</span>\r\n              <br />\r\n              <span>Save this invoice number for future inqury.</span>\r\n              <div>{routes}</div>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n      {status !== 'success' && loading && (\r\n        <Alert variant='danger' className='text-center lead'>\r\n          Sorry! Payment Failure. Try again.\r\n        </Alert>\r\n      )}\r\n      {errorMsg && (\r\n        <Alert variant='danger' className='text-center lead'>\r\n          {errorMsg}\r\n        </Alert>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}