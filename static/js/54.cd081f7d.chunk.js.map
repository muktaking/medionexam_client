{"version":3,"sources":["container/exams/component/examByCat.js","container/exams/examListsByCatShower.js"],"names":["duration","require","relativeTime","ExamByCat","exam","courseId","useState","showModal","setShowModal","dispatch","useDispatch","coursesEnrolledByStu","useSelector","state","courses","isAuthenticated","auth","token","isFree","categoryType","filter","cat","name","length","isEnrolledStu","map","course","id","indexOf","handleCloseModal","className","style","width","show","onHide","Header","closeButton","Title","Body","to","Footer","variant","onClick","title","size","description","resetExamResultLoader","defaultMessage","disabled","moment","startDate","fromNow","ExamListsByCatShower","useParams","idA","split","exams","setExams","loading","setLoading","useEffect","axios","get","process","then","response","data","catch","e","console","log","key"],"mappings":"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","file":"static/js/54.cd081f7d.chunk.js","sourcesContent":["//import moment from 'moment'\r\nimport * as moment from 'dayjs'\r\nimport React, { useState } from 'react'\r\nimport { Badge, Button, Modal } from 'react-bootstrap'\r\nimport { BsFileText } from 'react-icons/bs'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { resetExamResultLoader } from '../../../store/exams'\r\n\r\nimport { FaLock, FaUnlock } from 'react-icons/fa'\r\nconst duration = require('dayjs/plugin/duration')\r\nconst relativeTime = require('dayjs/plugin/relativeTime')\r\nmoment.extend(relativeTime)\r\nmoment.extend(duration)\r\n\r\nexport default function ExamByCat({ exam, courseId = null }) {\r\n  const [showModal, setShowModal] = useState(false)\r\n  const dispatch = useDispatch()\r\n  const coursesEnrolledByStu = useSelector(\r\n    (state) => state.courses.coursesEnrolledByStu\r\n  )\r\n  const isAuthenticated = useSelector((state) => state.auth.token !== null)\r\n\r\n  const isFree =\r\n    exam.categoryType.filter((cat) => cat.name === 'Free').length > 0\r\n  const isEnrolledStu = coursesEnrolledByStu\r\n    ? coursesEnrolledByStu.map((course) => course.id).indexOf(+courseId) !== -1\r\n    : null\r\n\r\n  const handleCloseModal = () => setShowModal(false)\r\n\r\n  return (\r\n    <div\r\n      className='mb-2 ml-2 pt-3 px-2 border border-secondary' // bg-secondary text-white\r\n      style={{ width: '350px' }}\r\n    >\r\n      <div>\r\n        <Modal show={showModal} onHide={handleCloseModal}>\r\n          <Modal.Header closeButton>\r\n            <Modal.Title className='text-warning'>\r\n              {isAuthenticated ? 'Enrollment Required' : 'Login Required'}\r\n            </Modal.Title>\r\n          </Modal.Header>\r\n          <Modal.Body>\r\n            <span>To continue the exam, you have to</span>{' '}\r\n            {isAuthenticated ? (\r\n              <Link to={`/courses/${courseId ? courseId : ''}`}>\r\n                <Button>Enroll the course</Button>\r\n              </Link>\r\n            ) : (\r\n              <Link to='/login'>\r\n                <Button>Login</Button>\r\n              </Link>\r\n            )}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button variant='secondary' onClick={handleCloseModal}>\r\n              Close\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal>\r\n        <h4 className=''>\r\n          {/* <BsLayersFill size='1.5rem' /> */}\r\n          <span className=''>{exam.title}</span>\r\n        </h4>\r\n        <div className='d-flex justify-content-between'>\r\n          <div>\r\n            <span>\r\n              {!isEnrolledStu && isFree && (\r\n                <>\r\n                  <Badge variant='success' className='px-2 py-1'>\r\n                    Free\r\n                  </Badge>{' '}\r\n                  <FaUnlock />\r\n                </>\r\n              )}\r\n            </span>\r\n            <span>\r\n              {!isEnrolledStu && !isFree && (\r\n                <>\r\n                  <Badge variant='dark' className='px-2 py-1'>\r\n                    Paid\r\n                  </Badge>{' '}\r\n                  <FaLock />\r\n                </>\r\n              )}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='mt-1'>\r\n        <p className=''>\r\n          <BsFileText size='1.5rem' className='m-1' />\r\n          <span className='ml-2'>{exam.description}</span>\r\n        </p>\r\n        <hr />\r\n        <div className='d-flex justify-content-center'>\r\n          <Link\r\n            className='text-white'\r\n            // First get array of coursesEnrolledByStuIds, then finds in them the course id\r\n            // , then check the free status\r\n            to={\r\n              isEnrolledStu\r\n                ? '/exams/' + exam.id + '_' + courseId\r\n                : isFree && '/exams/free/' + exam.id\r\n            }\r\n          >\r\n            <Button\r\n              variant='outline-primary'\r\n              onClick={() => {\r\n                dispatch(resetExamResultLoader())\r\n                setShowModal(true)\r\n              }}\r\n            >\r\n              <FormattedMessage id='btn.start' defaultMessage='Start Exam' />\r\n            </Button>\r\n          </Link>\r\n          {isAuthenticated && courseId && (\r\n            <Link\r\n              className='text-white'\r\n              to={'/result/rank/' + (courseId + '_' + exam.id)}\r\n            >\r\n              <Button\r\n                onClick={() => {\r\n                  dispatch(resetExamResultLoader())\r\n                }}\r\n                variant='outline-primary'\r\n                className='ml-2'\r\n                disabled={!isEnrolledStu && !isFree}\r\n              >\r\n                <FormattedMessage id='btn.rank' defaultMessage='Rank' />\r\n              </Button>\r\n            </Link>\r\n          )}\r\n        </div>\r\n        <hr />\r\n        <p className='text-center text-muted'>\r\n          Start: {moment(exam.startDate).fromNow()}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Badge } from 'react-bootstrap'\r\nimport { useParams } from 'react-router'\r\nimport CircleLoader from '../../components/customSpinner/circleLoader/circleLoader'\r\nimport ExamByCat from './component/examByCat'\r\n\r\nexport default function ExamListsByCatShower() {\r\n  const { id } = useParams()\r\n  let [name, idA] = [null, null]\r\n  if (id) [name, idA] = id.split('-')\r\n  const [exams, setExams] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    axios\r\n      .get(process.env.REACT_APP_SITE_URL + '/exams/category/' + idA)\r\n      .then((response) => {\r\n        setLoading(false)\r\n        setExams(response.data)\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false)\r\n        console.log(e)\r\n      })\r\n  }, [idA])\r\n  return (\r\n    <div className=''>\r\n      {loading && <CircleLoader />}\r\n      <h2 className='text-center'>\r\n        <span className='mr-2'>Available Exams Under</span>\r\n        <Badge variant='warning'>{name}</Badge>\r\n      </h2>\r\n      {!loading && (\r\n        <p className='text-center text-danger'>\r\n          {exams.length < 1 && 'NO Exam is avaiable.'}\r\n        </p>\r\n      )}\r\n      <div className='d-flex justify-content-center flex-wrap'>\r\n        {exams.map((exam) => (\r\n          <ExamByCat key={exam.title} exam={exam} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"sourceRoot":""}